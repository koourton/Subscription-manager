{"ast":null,"code":"var _jsxFileName = \"/Users/marko/Fakultet/Druga Godina/CS230-Distribuirani/projekat/frontend/src/pages/ManagePlans.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ManagePlans = () => {\n  _s();\n  const [plans, setPlans] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [editingPlan, setEditingPlan] = useState(null);\n  const [newPlan, setNewPlan] = useState({\n    name: '',\n    description: '',\n    price: '',\n    duration_days: '',\n    features: ''\n  });\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchPlans();\n  }, []);\n  const fetchPlans = async () => {\n    try {\n      setLoading(true);\n\n      // Make sure token is in headers\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('You need to log in first');\n        navigate('/login');\n        return;\n      }\n      api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n\n      // Get all plans, including inactive ones\n      const response = await api.get('/plans/all');\n      console.log(\"Plans fetched:\", response.data);\n      setPlans(response.data);\n      setError('');\n    } catch (err) {\n      console.error(\"Error fetching plans:\", err);\n      let errorMsg = 'Failed to fetch plans. ';\n      if (err.response) {\n        if (err.response.status === 403) {\n          errorMsg += 'You do not have admin privileges.';\n        } else {\n          var _err$response$data;\n          errorMsg += ((_err$response$data = err.response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message;\n        }\n\n        // If unauthorized, redirect to login\n        if (err.response.status === 401) {\n          localStorage.removeItem('token');\n          navigate('/login');\n        }\n      } else {\n        errorMsg += err.message;\n      }\n      setError(errorMsg);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleInputChange = (e, isForEditPlan = false) => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    const processedValue = type === 'number' ? parseFloat(value) : value;\n    if (isForEditPlan && editingPlan) {\n      setEditingPlan({\n        ...editingPlan,\n        [name]: processedValue\n      });\n    } else {\n      setNewPlan({\n        ...newPlan,\n        [name]: processedValue\n      });\n    }\n  };\n  const handleCreatePlan = async e => {\n    e.preventDefault();\n    try {\n      // Make sure token is in headers\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('You need to log in first');\n        navigate('/login');\n        return;\n      }\n      api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      console.log(\"Creating plan:\", {\n        ...newPlan,\n        price: parseFloat(newPlan.price),\n        duration_days: parseInt(newPlan.duration_days, 10)\n      });\n      await api.post('/plans', {\n        ...newPlan,\n        price: parseFloat(newPlan.price),\n        duration_days: parseInt(newPlan.duration_days, 10)\n      });\n      console.log(\"Plan created successfully\");\n      setNewPlan({\n        name: '',\n        description: '',\n        price: '',\n        duration_days: '',\n        features: ''\n      });\n      fetchPlans();\n      setError('');\n    } catch (err) {\n      console.error(\"Error creating plan:\", err);\n      if (err.response && err.response.status === 409) {\n        setError('A plan with this name already exists. Please choose a different name.');\n      } else {\n        var _err$response, _err$response$data2;\n        setError('Failed to create plan. ' + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data2 = _err$response.data) === null || _err$response$data2 === void 0 ? void 0 : _err$response$data2.message) || err.message));\n      }\n    }\n  };\n  const handleUpdatePlan = async e => {\n    e.preventDefault();\n    try {\n      // Make sure token is in headers\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('You need to log in first');\n        navigate('/login');\n        return;\n      }\n      api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      console.log(\"Updating plan:\", {\n        ...editingPlan,\n        price: parseFloat(editingPlan.price),\n        duration_days: parseInt(editingPlan.duration_days, 10)\n      });\n      await api.put(`/plans/${editingPlan.id}`, {\n        ...editingPlan,\n        price: parseFloat(editingPlan.price),\n        duration_days: parseInt(editingPlan.duration_days, 10)\n      });\n      console.log(\"Plan updated successfully\");\n      setEditingPlan(null);\n      fetchPlans();\n      setError('');\n    } catch (err) {\n      console.error(\"Error updating plan:\", err);\n      if (err.response && err.response.status === 409) {\n        setError('A plan with this name already exists. Please choose a different name.');\n      } else {\n        var _err$response2, _err$response2$data;\n        setError('Failed to update plan. ' + (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || err.message));\n      }\n    }\n  };\n  const handleDeletePlan = async planId => {\n    if (!window.confirm('Are you sure you want to delete this plan? This will affect all users subscribed to this plan.')) {\n      return;\n    }\n    try {\n      // Make sure token is in headers\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('You need to log in first');\n        navigate('/login');\n        return;\n      }\n      api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      console.log(\"Deleting plan:\", planId);\n      await api.delete(`/plans/${planId}`);\n      console.log(\"Plan deleted successfully\");\n      fetchPlans();\n      setError('');\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error(\"Error deleting plan:\", err);\n      setError('Failed to delete plan. ' + (((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || err.message));\n    }\n  };\n  const handleToggleActive = async (planId, isCurrentlyActive) => {\n    try {\n      // Make sure token is in headers\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('You need to log in first');\n        navigate('/login');\n        return;\n      }\n      api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      console.log(`Toggling plan ${planId} active status from ${isCurrentlyActive} to ${!isCurrentlyActive}`);\n      await api.patch(`/plans/${planId}`, {\n        is_active: !isCurrentlyActive\n      });\n      console.log(\"Plan status updated successfully\");\n      fetchPlans();\n      setError('');\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      console.error(\"Error updating plan status:\", err);\n      setError('Failed to update plan status. ' + (((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || err.message));\n    }\n  };\n  const startEditing = plan => {\n    // Make a copy to avoid direct state mutation\n    setEditingPlan({\n      ...plan\n    });\n    setError(''); // Clear any previous errors\n  };\n  const cancelEditing = () => {\n    setEditingPlan(null);\n    setError(''); // Clear any errors when canceling\n  };\n  if (loading && plans.length === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"Loading plans...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 45\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"manage-plans-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Manage Subscription Plans\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this), error.includes('privileges') && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"submit-btn\",\n        onClick: () => {\n          localStorage.removeItem('token');\n          navigate('/login');\n        },\n        style: {\n          marginTop: '10px',\n          maxWidth: '200px'\n        },\n        children: \"Log out and try again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 9\n    }, this), !editingPlan ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card plan-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Create New Plan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCreatePlan,\n        className: \"plan-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Plan Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            value: newPlan.name,\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: newPlan.description,\n            onChange: handleInputChange,\n            rows: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Price ($)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            step: \"0.01\",\n            name: \"price\",\n            value: newPlan.price,\n            onChange: handleInputChange,\n            required: true,\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Duration (days)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"duration_days\",\n            value: newPlan.duration_days,\n            onChange: handleInputChange,\n            required: true,\n            min: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Features (comma separated)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"features\",\n            value: newPlan.features,\n            onChange: handleInputChange,\n            placeholder: \"Feature 1, Feature 2, Feature 3\",\n            rows: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"submit-btn\",\n          children: \"Create Plan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card plan-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Edit Plan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleUpdatePlan,\n        className: \"plan-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Plan Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            value: editingPlan.name,\n            onChange: e => handleInputChange(e, true),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: editingPlan.description,\n            onChange: e => handleInputChange(e, true),\n            rows: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Price ($)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            step: \"0.01\",\n            name: \"price\",\n            value: editingPlan.price,\n            onChange: e => handleInputChange(e, true),\n            required: true,\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Duration (days)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"duration_days\",\n            value: editingPlan.duration_days,\n            onChange: e => handleInputChange(e, true),\n            required: true,\n            min: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Features (comma separated)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"features\",\n            value: editingPlan.features,\n            onChange: e => handleInputChange(e, true),\n            rows: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Update Plan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-secondary\",\n            onClick: cancelEditing,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"plans-table-container card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"All Plans\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this), plans.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Duration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: plans.map(plan => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: !plan.is_active ? 'inactive-plan' : '',\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: plan.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: plan.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\"$\", plan.price.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [plan.duration_days, \" days\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: plan.is_active ? 'status-active' : 'status-inactive',\n                  children: plan.is_active ? 'Active' : 'Inactive'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"actions-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => startEditing(plan),\n                  className: \"edit-btn\",\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleToggleActive(plan.id, plan.is_active),\n                  className: plan.is_active ? 'deactivate-btn' : 'activate-btn',\n                  children: plan.is_active ? 'Deactivate' : 'Activate'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeletePlan(plan.id),\n                  className: \"delete-btn\",\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 21\n              }, this)]\n            }, plan.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"no-data\",\n        children: \"No plans found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 238,\n    columnNumber: 5\n  }, this);\n};\n_s(ManagePlans, \"OSo8N58JHdrhYIc3WbWmLHve8XQ=\", false, function () {\n  return [useNavigate];\n});\n_c = ManagePlans;\nexport default ManagePlans;\nvar _c;\n$RefreshReg$(_c, \"ManagePlans\");","map":{"version":3,"names":["React","useState","useEffect","api","useNavigate","jsxDEV","_jsxDEV","ManagePlans","_s","plans","setPlans","loading","setLoading","error","setError","editingPlan","setEditingPlan","newPlan","setNewPlan","name","description","price","duration_days","features","navigate","fetchPlans","token","localStorage","getItem","defaults","headers","common","response","get","console","log","data","err","errorMsg","status","_err$response$data","message","removeItem","handleInputChange","e","isForEditPlan","value","type","target","processedValue","parseFloat","handleCreatePlan","preventDefault","parseInt","post","_err$response","_err$response$data2","handleUpdatePlan","put","id","_err$response2","_err$response2$data","handleDeletePlan","planId","window","confirm","delete","_err$response3","_err$response3$data","handleToggleActive","isCurrentlyActive","patch","is_active","_err$response4","_err$response4$data","startEditing","plan","cancelEditing","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","includes","onClick","style","marginTop","maxWidth","onSubmit","onChange","required","rows","step","min","placeholder","map","toFixed","_c","$RefreshReg$"],"sources":["/Users/marko/Fakultet/Druga Godina/CS230-Distribuirani/projekat/frontend/src/pages/ManagePlans.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport { useNavigate } from 'react-router-dom';\n\nconst ManagePlans = () => {\n  const [plans, setPlans] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [editingPlan, setEditingPlan] = useState(null);\n  const [newPlan, setNewPlan] = useState({\n    name: '',\n    description: '',\n    price: '',\n    duration_days: '',\n    features: ''\n  });\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchPlans();\n  }, []);\n\n  const fetchPlans = async () => {\n    try {\n      setLoading(true);\n      \n      // Make sure token is in headers\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('You need to log in first');\n        navigate('/login');\n        return;\n      }\n      \n      api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      \n      // Get all plans, including inactive ones\n      const response = await api.get('/plans/all');\n      console.log(\"Plans fetched:\", response.data);\n      setPlans(response.data);\n      setError('');\n    } catch (err) {\n      console.error(\"Error fetching plans:\", err);\n      let errorMsg = 'Failed to fetch plans. ';\n      \n      if (err.response) {\n        if (err.response.status === 403) {\n          errorMsg += 'You do not have admin privileges.';\n        } else {\n          errorMsg += err.response.data?.message || err.message;\n        }\n        \n        // If unauthorized, redirect to login\n        if (err.response.status === 401) {\n          localStorage.removeItem('token');\n          navigate('/login');\n        }\n      } else {\n        errorMsg += err.message;\n      }\n      \n      setError(errorMsg);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (e, isForEditPlan = false) => {\n    const { name, value, type } = e.target;\n    const processedValue = type === 'number' ? parseFloat(value) : value;\n    \n    if (isForEditPlan && editingPlan) {\n      setEditingPlan({\n        ...editingPlan,\n        [name]: processedValue\n      });\n    } else {\n      setNewPlan({\n        ...newPlan,\n        [name]: processedValue\n      });\n    }\n  };\n\n  const handleCreatePlan = async (e) => {\n    e.preventDefault();\n    try {\n      // Make sure token is in headers\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('You need to log in first');\n        navigate('/login');\n        return;\n      }\n      \n      api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      \n      console.log(\"Creating plan:\", {\n        ...newPlan,\n        price: parseFloat(newPlan.price),\n        duration_days: parseInt(newPlan.duration_days, 10)\n      });\n      \n      await api.post('/plans', {\n        ...newPlan,\n        price: parseFloat(newPlan.price),\n        duration_days: parseInt(newPlan.duration_days, 10)\n      });\n      \n      console.log(\"Plan created successfully\");\n      \n      setNewPlan({\n        name: '',\n        description: '',\n        price: '',\n        duration_days: '',\n        features: ''\n      });\n      fetchPlans();\n      setError('');\n    } catch (err) {\n      console.error(\"Error creating plan:\", err);\n      \n      if (err.response && err.response.status === 409) {\n        setError('A plan with this name already exists. Please choose a different name.');\n      } else {\n        setError('Failed to create plan. ' + (err.response?.data?.message || err.message));\n      }\n    }\n  };\n\n  const handleUpdatePlan = async (e) => {\n    e.preventDefault();\n    try {\n      // Make sure token is in headers\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('You need to log in first');\n        navigate('/login');\n        return;\n      }\n      \n      api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      \n      console.log(\"Updating plan:\", {\n        ...editingPlan,\n        price: parseFloat(editingPlan.price),\n        duration_days: parseInt(editingPlan.duration_days, 10)\n      });\n      \n      await api.put(`/plans/${editingPlan.id}`, {\n        ...editingPlan,\n        price: parseFloat(editingPlan.price),\n        duration_days: parseInt(editingPlan.duration_days, 10)\n      });\n      \n      console.log(\"Plan updated successfully\");\n      setEditingPlan(null);\n      fetchPlans();\n      setError('');\n    } catch (err) {\n      console.error(\"Error updating plan:\", err);\n      \n      if (err.response && err.response.status === 409) {\n        setError('A plan with this name already exists. Please choose a different name.');\n      } else {\n        setError('Failed to update plan. ' + (err.response?.data?.message || err.message));\n      }\n    }\n  };\n\n  const handleDeletePlan = async (planId) => {\n    if (!window.confirm('Are you sure you want to delete this plan? This will affect all users subscribed to this plan.')) {\n      return;\n    }\n\n    try {\n      // Make sure token is in headers\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('You need to log in first');\n        navigate('/login');\n        return;\n      }\n      \n      api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      \n      console.log(\"Deleting plan:\", planId);\n      await api.delete(`/plans/${planId}`);\n      console.log(\"Plan deleted successfully\");\n      \n      fetchPlans();\n      setError('');\n    } catch (err) {\n      console.error(\"Error deleting plan:\", err);\n      setError('Failed to delete plan. ' + (err.response?.data?.message || err.message));\n    }\n  };\n\n  const handleToggleActive = async (planId, isCurrentlyActive) => {\n    try {\n      // Make sure token is in headers\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('You need to log in first');\n        navigate('/login');\n        return;\n      }\n      \n      api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      \n      console.log(`Toggling plan ${planId} active status from ${isCurrentlyActive} to ${!isCurrentlyActive}`);\n      await api.patch(`/plans/${planId}`, { is_active: !isCurrentlyActive });\n      console.log(\"Plan status updated successfully\");\n      \n      fetchPlans();\n      setError('');\n    } catch (err) {\n      console.error(\"Error updating plan status:\", err);\n      setError('Failed to update plan status. ' + (err.response?.data?.message || err.message));\n    }\n  };\n\n  const startEditing = (plan) => {\n    // Make a copy to avoid direct state mutation\n    setEditingPlan({...plan});\n    setError(''); // Clear any previous errors\n  };\n\n  const cancelEditing = () => {\n    setEditingPlan(null);\n    setError(''); // Clear any errors when canceling\n  };\n\n  if (loading && plans.length === 0) return <div className=\"loading\">Loading plans...</div>;\n\n  return (\n    <div className=\"manage-plans-container\">\n      <h2>Manage Subscription Plans</h2>\n      \n      {error && (\n        <div className=\"error-message\">\n          <p>{error}</p>\n          {error.includes('privileges') && (\n            <button \n              className=\"submit-btn\" \n              onClick={() => {\n                localStorage.removeItem('token');\n                navigate('/login');\n              }}\n              style={{marginTop: '10px', maxWidth: '200px'}}\n            >\n              Log out and try again\n            </button>\n          )}\n        </div>\n      )}\n      \n      {!editingPlan ? (\n        <div className=\"card plan-form-container\">\n          <h3>Create New Plan</h3>\n          <form onSubmit={handleCreatePlan} className=\"plan-form\">\n            <div className=\"form-group\">\n              <label>Plan Name</label>\n              <input\n                type=\"text\"\n                name=\"name\"\n                value={newPlan.name}\n                onChange={handleInputChange}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Description</label>\n              <textarea\n                name=\"description\"\n                value={newPlan.description}\n                onChange={handleInputChange}\n                rows=\"3\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Price ($)</label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                name=\"price\"\n                value={newPlan.price}\n                onChange={handleInputChange}\n                required\n                min=\"0\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Duration (days)</label>\n              <input\n                type=\"number\"\n                name=\"duration_days\"\n                value={newPlan.duration_days}\n                onChange={handleInputChange}\n                required\n                min=\"1\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Features (comma separated)</label>\n              <textarea\n                name=\"features\"\n                value={newPlan.features}\n                onChange={handleInputChange}\n                placeholder=\"Feature 1, Feature 2, Feature 3\"\n                rows=\"3\"\n              />\n            </div>\n            <button type=\"submit\" className=\"submit-btn\">Create Plan</button>\n          </form>\n        </div>\n      ) : (\n        <div className=\"card plan-form-container\">\n          <h3>Edit Plan</h3>\n          <form onSubmit={handleUpdatePlan} className=\"plan-form\">\n            <div className=\"form-group\">\n              <label>Plan Name</label>\n              <input\n                type=\"text\"\n                name=\"name\"\n                value={editingPlan.name}\n                onChange={(e) => handleInputChange(e, true)}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Description</label>\n              <textarea\n                name=\"description\"\n                value={editingPlan.description}\n                onChange={(e) => handleInputChange(e, true)}\n                rows=\"3\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Price ($)</label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                name=\"price\"\n                value={editingPlan.price}\n                onChange={(e) => handleInputChange(e, true)}\n                required\n                min=\"0\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Duration (days)</label>\n              <input\n                type=\"number\"\n                name=\"duration_days\"\n                value={editingPlan.duration_days}\n                onChange={(e) => handleInputChange(e, true)}\n                required\n                min=\"1\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Features (comma separated)</label>\n              <textarea\n                name=\"features\"\n                value={editingPlan.features}\n                onChange={(e) => handleInputChange(e, true)}\n                rows=\"3\"\n              />\n            </div>\n            <div className=\"form-actions\">\n              <button type=\"submit\" className=\"btn btn-primary\">Update Plan</button>\n              <button type=\"button\" className=\"btn btn-secondary\" onClick={cancelEditing}>\n                Cancel\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n      \n      <div className=\"plans-table-container card\">\n        <h3>All Plans</h3>\n        {plans.length > 0 ? (\n          <div className=\"table-container\">\n            <table>\n              <thead>\n                <tr>\n                  <th>ID</th>\n                  <th>Name</th>\n                  <th>Price</th>\n                  <th>Duration</th>\n                  <th>Status</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {plans.map(plan => (\n                  <tr key={plan.id} className={!plan.is_active ? 'inactive-plan' : ''}>\n                    <td>{plan.id}</td>\n                    <td>{plan.name}</td>\n                    <td>${plan.price.toFixed(2)}</td>\n                    <td>{plan.duration_days} days</td>\n                    <td>\n                      <span className={plan.is_active ? 'status-active' : 'status-inactive'}>\n                        {plan.is_active ? 'Active' : 'Inactive'}\n                      </span>\n                    </td>\n                    <td className=\"actions-cell\">\n                      <button onClick={() => startEditing(plan)} className=\"edit-btn\">\n                        Edit\n                      </button>\n                      <button \n                        onClick={() => handleToggleActive(plan.id, plan.is_active)}\n                        className={plan.is_active ? 'deactivate-btn' : 'activate-btn'}\n                      >\n                        {plan.is_active ? 'Deactivate' : 'Activate'}\n                      </button>\n                      <button onClick={() => handleDeletePlan(plan.id)} className=\"delete-btn\">\n                        Delete\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        ) : (\n          <p className=\"no-data\">No plans found.</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ManagePlans;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}